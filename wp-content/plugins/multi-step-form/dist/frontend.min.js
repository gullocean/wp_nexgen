jQuery(document).ready(function(e) {
        "use strict";

        function a() {
            //window.console && console.log.apply(console, arguments)
            jQuery('.modal').on("show.bs.modal", function() {
                e(this).css("display", "flex");
            });
        }

        function t() {
            //window.console && console.warn.apply(console, arguments)
        }

        function r(e, a) {
            var t;
            e.find('.fw-wizard-step[data-stepId="' + a + '"]').removeClass("fw-current"), e.find('.fw-wizard-step-header[data-stepId="' + a + '"]').removeClass("fw-current"), t = e.find('.fw-progress-step[data-id="' + a + '"]'), t.removeClass("fw-active"), e.find('.fwp-progress-bar .fwp-circle[data-id="' + a + '"]').removeClass("fwp-active")
        }

        function n(e, a) {
            var t;
            e.find('.fw-wizard-step[data-stepId="' + a + '"]').addClass("fw-current"), e.find('.fw-wizard-step-header[data-stepId="' + a + '"]').addClass("fw-current"), t = e.find('.fw-progress-step[data-id="' + a + '"]'), t.addClass("fw-active")
        }

        function i(e) {
            e.find(".fw-button-previous").hide();
            e.find(".fw-button-next").css({'float': 'none', 'width': '100%'});
        }

        function s(e) {
            e.find(".fw-button-next").hide();
            e.find(".fw-button-next").after( '<button type="button" class="fw-submit-trigger btn-success" style="width: 85%">Submit</button>' );
            e.find(".fw-submit-trigger").on('click', function() {
            	e.find('.fw-btn-submit').trigger('click');
            });
        }

        function f(e) {
            e.find(".fw-button-previous").show();
            e.find(".fw-button-next").css({'float': 'left', 'width': '85%'});
        }

        function d(e) {
            e.find(".fw-button-next").show();
            e.find(".fw-submit-trigger").remove();
        }

        function o() {
            var a = T(e(this)),
                t = q(a),
                s = parseInt(t, 10),
                f = a.find('.fwp-progress-bar .fwp-circle[data-id="' + t + '"]'),
                o = a.find('.fwp-progress-bar .fwp-bar[data-id="' + (s - 1) + '"]'),
                c = a.find('.fw-progress-step[data-id="' + (s - 1) + '"]');
            c.removeClass("fw-visited"), a.find('.fw-progress-step[data-id="' + t + '"]').removeClass("fw-visited"), f.removeClass("fwp-done"), f.find(".fwp-label").html(parseInt(t, 10) + 1), o.removeClass("fwp-active"), s >= 2 && a.find('.fwp-progress-bar .fwp-bar[data-id="' + (s - 2) + '"]').removeClass("fwp-done").addClass("fwp-active"), r(a, t--), a.find('.fwp-progress-bar .fwp-circle[data-id="' + t + '"]').find(".fwp-label").html(parseInt(t, 10) + 1), n(a, t), 0 === t && i(a), d(a)
        }

        function c() {
            var a = T(e(this)),
                t = q(a),
                i = parseInt(t, 10),
                d = a.find('.fwp-progress-bar .fwp-circle[data-id="' + t + '"]'),
                o = a.find('.fwp-progress-bar .fwp-bar[data-id="' + t + '"]');
            N(t) && (a.find('.fw-progress-step[data-id="' + t + '"]').addClass("fw-visited"), d.removeClass("fwp-active").addClass("fwp-done"), d.find(".fwp-label").html("&#10003;"), o.addClass("fwp-active"), i >= 1 && a.find('.fwp-progress-bar .fwp-bar[data-id="' + (i - 1) + '"]').removeClass("fwp-active").addClass("fwp-done"), r(a, t++), n(a, t), t === _(a) - 1 && s(a), f(a), e("html, body").animate({
                scrollTop: e("#mondula-multistep-forms").offset().top - 100
            }, 500))
        }

        function l(e, a, t, r) {
            var n = a.find("h3").text(),
                i = a.find(".fw-text-input").val();
            p(e, t, n, i, r)
        }

        function u(e, a, t, r) {
            var n = a.find("h3").text(),
                i = a.find(".fw-textarea").val();
            p(e, t, n, i, r)
        }

        function p(e, a, t, r, n) {
            var i = {};
            r ? (i[t] = r, U(e, a).push(i)) : "true" == n && (i['<p class="fw-step-summary fw-summary-invalid">' + t] = "</p>", U(e, a).push(i))
        }

        function w(a, t, r, n) {
            var i = t.find("h3").text(),
                s = "";
            t.find(".fw-choice").each(function(a, t) {
                e(t).find("input").is(":checked") && ("" != s && (s += ", "), s += e(t).find("label").text())
            }), p(a, r, i, s, n)
        }

        function v(e, a, t, r) {
            var n = a.find("h3").text(),
                i = a.find("select").select2("data")[0].text;
            p(e, t, n, i, r)
        }

        function m(e, a, t, r) {
            var n, i = a.find("label").text();
            a.find(".fw-checkbox").is(":checked") && (n = "yes"), a.hasClass("fw-block-invalid"), p(e, t, i, n, r)
        }

        function h(a, t, r) {
            var n = "",
                i = a.find('.fw-wizard-step[data-stepId="' + t + '"]');
            return i.find(".fw-step-part").each(function(a, t) {
                var n = e(t).find(".fw-step-part-title").text().trim();
                e(t).find(".fw-step-block").each(function(a, t) {
                    var i = e(t).attr("data-required");
                    switch (e(t).attr("data-type")) {
                        case "fw-email":
                        case "fw-date":
                        case "fw-text":
                            l(r, e(t), n, i);
                            break;
                        case "fw-textarea":
                            u(r, e(t), n, i);
                            break;
                        case "fw-radio":
                            w(r, e(t), n, i);
                            break;
                        case "fw-select":
                            v(r, e(t), n, i);
                            break;
                        case "fw-checkbox":
                            m(r, e(t), n, i)
                    }
                })
            }), n
        }

        function b(e) {
            return e.replace(/^.*\\/, "")
        }

        function k() {
            var a = [];
            return e(".fw-step-block[data-type=fw-file]").each(function(e, t) {
                a.push(g(t))
            }), a
        }

        function g(a) {
            return b(e(a).find("input").val())
        }

        function x(e) {
            var a, t = _(e),
                r = {};
            for (a = 0; a < t; a++) h(e, a, r);
            return r
        }

        function y(e) {
            var a = "",
                t = x(e);
            for (var r in t) a += '<div class="fw-step-summary-part">', a += C(r), a += I(t[r]), a += "</div>";
            return a
        }

        function C(e) {
            return '<p class="fw-step-summary-title">' + e + "</p>"
        }

        function z(e) {
            var a;
            for (a in e) return '<p class="fw-step-summary">' + a + " â€” " + e[a] + "</p>"
        }

        function I(e) {
            var a, t, r = "";
            for (a = 0, t = e.length; a < t; a++) r += z(e[a]);
            return r
        }

        function j(a) {
            var t = y(a),
                r = a.find(".fw-wizard-summary");
            r.empty(), r.append(t), e(".fw-toggle-summary").toggle(function() {
                e(".fw-wizard-summary").slideDown(), e(".fw-toggle-summary").text("hide summary")
            }, function() {
                e(".fw-wizard-summary").slideUp(), e(".fw-toggle-summary").text("show summary")
            }), e(".fw-summary-invalid").length ? r.prepend('<div class="fw-summary-alert">' + le[2] + "</div>") : e(".fw-summary-alert").remove()
        }

        function T(e) {
            return e.closest(".fw-wizard")
        }

        function _(e) {
            return e.attr("data-stepCount")
        }

        function q(e) {
            return e.find(".fw-current").attr("data-stepId")
        }

        function S(e) {
            return e.closest(".fw-wizard-step").attr("data-stepId")
        }

        function D(e) {
            return e.closest(".fw-step-part").attr("data-partId")
        }

        function F(e) {
            return e.closest(".fw-step-block").attr("data-blockId")
        }

        function P(e) {
            var t = [].slice.call(arguments, 1),
                r = 0,
                n = t.length;
            if (a("args", t), "0" === t[0]) throw new TypeError;
            for (; r < n; r++) e = A(e, t[r]);
            return e
        }

        function A(e, a) {
            return e[a] || (e[a] = {}), e[a]
        }

        function O(e, a) {
            var t = S(a),
                r = D(a),
                n = F(a);
            return P(ce, e.attr("id"), t, r, n)
        }

        function U(e, t) {
            return a("obj", e, "prop", t), e[t] || (e[t] = []), e[t]
        }

        function W() {
            var a = e(this),
                t = T(a),
                r = a.prop("checked"),
                n = O(t, a),
                i = a.attr("data-id");
            r ? n[i] = "checked" : delete n[i], j(t)
        }

        function Y(t, r) {
            var n, i, s, f = t.attr("id"),
                d = r.attr("name"),
                o = F(r),
                c = e('.fw-radio[name="' + d + '"]'),
                l = !1;
            a("radios", c), c.each(function(a, t) {
                o !== F(e(t)) && (l = !0)
            }), n = S(r), i = D(r), l ? (s = P(ce, f, n), delete s[i]) : (s = P(ce, f, n, i), delete s[o]), j(t)
        }

        function Z() {
            var a = e(this),
                t = a.attr("data-id"),
                r = a.closest(".fw-conditional");
            r.find(".fw-conditional-then").removeClass("fw-selected"), r.find('.fw-conditional-then[data-id="' + t + '"]').addClass("fw-selected")
        }

        function E() {
            var a = e(this),
                t = T(a);
            Y(t, a);
            a.parents('.fw-wizard-step-wrap').find('.fw-wizard-button-container .fw-button-next').trigger('click');
            var r = O(t, a),
                n = a.attr("data-id");
            r[n] = "checked", j(t)
        }

        function Q() {
            var t = e(this),
                r = T(t),
                n = t.val();
            a(n);
            var i = t.attr("data-id"),
                s = O(r, t);
            s[i] = n, t.parents(".fw-step-block").removeClass("fw-block-invalid"), t.parents(".fw-step-block").find(".fw-block-invalid-alert").remove(), j(r)
        }

        function R(a) {
            var t = !1;
            return a.children(".fw-choice").find("input").each(function(a, r) {
                var n = e(r);
                n.is(":checked") && (t = !0)
            }), t || a.addClass("fw-block-invalid"), t
        }

        function $(e) {
            var a = !1,
                t = e.find("select");
            return t.select2("data")[0].selected && (a = !0), a
        }

        function B(e) {
            var a = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
                t = e.find(".fw-text-input").val();
            return !(!t || !a.test(t)) || (e.addClass("fw-block-invalid"), !1)
        }

        function G(e) {
            return !!e.find(".fw-file-upload-input").val() || (e.addClass("fw-block-invalid"), !1)
        }

        function H(e) {
            return !!e.find(".fw-text-input").val() || (e.addClass("fw-block-invalid"), !1)
        }

        function J(e) {
            return !!e.find(".fw-text-input").val() || (e.addClass("fw-block-invalid"), !1)
        }

        function K(e) {
            return !!e.find(".fw-textarea").val() || (e.addClass("fw-block-invalid"), !1)
        }

        function L(e) {
            return !!e.find(".fw-checkbox").prop("checked") || (e.addClass("fw-block-invalid"), !1)
        }

        function M(e) {
            var a = e.find("[data-id=name]").val(),
                t = e.find("[data-id=email]").val(),
                r = !0;
            return a && t || (e.has("input") ? r = !0 : (e.addClass("fw-block-invalid"), r = !1)), r
        }

        function N(a) {
            var t = !0,
                r = !0,
                n = !0;
            return e('.fw-wizard-step[data-stepid="' + a + '"] .fw-step-block[data-required="true"]').each(function(a, i) {
                var s = e(i),
                    f = s.attr("data-type");
                switch (f) {
                    case "fw-radio":
                        t = R(s);
                        break;
                    case "fw-select":
                        t = $(s);
                        break;
                    case "fw-textarea":
                        t = K(s);
                        break;
                    case "fw-text":
                        t = J(s);
                        break;
                    case "fw-email":
                        t = B(s), r = t;
                        break;
                    case "fw-file":
                        t = G(s);
                        break;
                    case "fw-date":
                        t = H(s);
                        break;
                    case "fw-checkbox":
                        t = L(s);
                        break;
                    case "fw-submit":
                        t = M(s)
                }
                t || (n = !1)
            }), e('.fw-wizard-step[data-stepid="' + a + '"] .fw-step-block[data-type="fw-email"]').each(function(a, r) {
                var i = e(r);
                "" != i.find(".fw-text-input").val() && (t = B(i), t || (n = !1))
            }), n || (e(".fw-block-invalid").each(function(a, t) {
                e(t).find(".fw-block-invalid-alert").length < 1 && e(t).append('<div class="fw-block-invalid-alert">' + le[1] + "</div>")
            }), X(le[0], !1)), n
        }

        function V(a) {
            var t = !0;
            return e(".fw-wizard-step").each(function(a, r) {
                e(r);
                N(a) || (t = !1)
            }), t
        }

        function X(a, t) {
            e(".fw-alert-user").empty().removeClass("fw-alert-user-fail fw-alert-user-success"), t ? e(".fw-alert-user").addClass("fw-alert-user-success").append('<i class="fa fa-check-circle" aria-hidden="true"></i>') : e(".fw-alert-user").addClass("fw-alert-user-fail").append('<i class="fa fa-times-circle" aria-hidden="true"></i>'), e(".fw-alert-user").append(a).fadeIn().delay(2e3).fadeOut()
        }

        function ee(a) {
            var t, r, n = [],
                i = e(this).closest(".fw-wizard");
            e(".fw-block-invalid").each(function(a, t) {
                e(t).removeClass("fw-block-invalid")
            }), V(i) && (e(".fw-spinner").show(), t = x(i), n = k(), r = i.find('[data-id="email"]').first().val(), ae(t, r, n))
        }

        function ae(a, r, n) {
            var i = e("#mondula-multistep-forms").attr("data-wizardid");
            
            var fw_data = e('#fw-wrap').serializeArray();
            console.log(fw_data);

            e.post(ajax.ajaxurl, {
                action: "fw_send_email",
                id: i,
                fw_data: fw_data,
                email: r,
                attachments: n,
                nonce: ajax.nonce
            }, function(a) {
                var t = e("#mondula-multistep-forms").attr("data-redirect");
                t ? (window.onbeforeunload = null, window.location.href = t) : X("Success! Your data was submitted.", !0)
            }).fail(function(e) {
                t("response", e), t("responseText", e.responseText)
            })
        }

        function te(a, r) {
            var n = e("#mondula-multistep-forms").attr("data-wizardid"),
                i = e(a.target).prop("files")[0],
                s = new FormData;
            s.append("action", "fw_upload_file"), s.append("file", i), s.append("id", n), s.append("nonce", ajax.nonce), r.find("i").removeClass("fa-upload fa-times-circle fa-check-circle").addClass("fa-spinner"), r.find("span").text("Uploading file");
            var f = e(a.target).parent().parent();
            e.ajax({
                type: "POST",
                url: ajax.ajaxurl,
                data: s,
                contentType: !1,
                processData: !1,
                dataType: "json",
                success: function(e) {
                    fe(), e.success ? (f.attr("data-uploaded", "true"), r.find("i").removeClass("fa-times-circle fa-spinner").addClass(" fa-check-circle"), r.find("span").html(i.name)) : (r.find("i").removeClass("fa-spinner fa-check-circle").addClass("fa-times-circle"), r.find("span").html(e.error), t(e.error))
                },
                fail: function(e) {}
            })
        }

        function re(a) {
            e.post(ajax.ajaxurl, {
                action: "fw_delete_files",
                filenames: a,
                nonce: ajax.nonce
            }, function(a) {
                a && e("[data-type=fw-file]").each(function(a, t) {
                    var r = e(t).find("input");
                    r.replaceWith(r.val("").clone(!0)), e(t).find("label > i").removeClass("fa-check-circle").addClass("fa-upload"), e(t).find("label > span").text("Choose a file"), e(t).attr("data-uploaded", "false")
                })
            }).fail(function(e) {
                t("response", e), t("responseText", e.responseText)
            })
        }

        function ne() {
            e(".fw-file-upload-input").each(function() {
                var a = e(this),
                    t = a.next("label"),
                    r = t.html(),
                    n = a.parent().parent();
                a.on("change", function(e) {
                    var a = "";
                    e.target.value && (a = e.target.value.split("\\").pop()), a ? te(e, t) : t.html(r)
                }), a.on("click", function(e) {
                    if (e.target.value) {
                        var a = [];
                        a.push(g(n)), re(a)
                    }
                }), a.on("focus", function() {
                    a.addClass("has-focus")
                }).on("blur", function() {
                    a.removeClass("has-focus")
                })
            })
        }

        function ie() {
            e("select").each(function(a, t) {
                e(t).data("search") ? e("select").select2({
                    placeholder: "Select a state"
                }) : e(t).select2({
                    minimumResultsForSearch: 1 / 0
                })
            })
        }

        function se() {
            var a = e(".fw-progress-bar").attr("data-activecolor"),
                t = e(".fw-progress-bar").attr("data-donecolor"),
                r = e(".fw-progress-bar").attr("data-nextcolor"),
                n = e(".fw-progress-bar").attr("data-buttoncolor"),
                p = e(".fw-progress-bar").attr("data-previouscolor");
            e("head").append('<style id="fw-colors"></style>'), a && e("head").append("<style>.fw-active .progress, ul.fw-progress-bar li.fw-active:before{background:" + a + "!important;} [data-type=fw-checkbox] input[type=checkbox]:checked+label:before, ul.fw-progress-bar li.fw-active .txt-ellipsis { color: " + a + " !important; } .fw-step-part { border-color: " + a + " !important; }</style>"), t && e("head").append("<style>ul.fw-progress-bar .fw-active:last-child:before, .fw-progress-step.fw-visited:before{ background:" + t + " !important; } .fw-progress-step.fw-visited, ul.fw-progress-bar .fw-active:last-child .txt-ellipsis, .fw-progress-step.fw-visited .txt-ellipsis { color:" + t + " !important;} ul.fw-progress-bar li.fw-visited:after{ background-color:" + t + " !important;}</style>"), r && e("head").append("<style>ul.fw-progress-bar li:before{background:" + r + " !important;} .fw-progress-bar li.fw-active:after, li.fw-progress-step::after{ background-color:" + r + " !important;} .txt-ellipsis { color: " + r + " !important; } </style>"), n && e("head").append("<style>.fw-button-next, .fw-button-fileupload { background: " + n + " !important; }</style>"), p && e("head").append("<style>.fw-button-previous { background: " + p + " !important; }</style>")
        }

        function fe() {
            e("#mondula-multistep-forms").length && (window.onbeforeunload = function() {
                var e = k();
                return re(e), "Your uploaded files were deleted from the server for security reasons."
            })
        }

        function de() {
            var a = e(".fw-wizard");
            a.each(function(a, t) {
                n(e(t), 0)
            });
            var t = _(a),
                r = a.parent().outerWidth();
            (t >= 5 && r >= 769 || r >= 500) && a.addClass("fw-large-container"), e('.fw-progress-step[data-id="0"]').addClass("fw-active"), e(".fw-button-previous").hide(), e(".fw-button-next").css({'float': 'none', 'width': '100%'}), e(".fw-button-previous").click(o), e(".fw-button-next").click(c);
            var i = e(".fw-wizard-summary").attr("data-showsummary");
            "off" == i && e(".fw-toggle-summary").remove(), e(".fw-checkbox").change(W), e(".fw-radio").change(E), e(".fw-radio-conditional").change(Z), e(".fw-text-input").on("change input", Q), e(".fw-textarea").on("change input", Q), e(".fw-checkbox, .fw-radio").on("change", function() {
                e(this).parents(".fw-step-block").removeClass("fw-block-invalid"), e(this).parents(".fw-step-block").find(".fw-block-invalid-alert").remove()
            }), ie(), ne(), e(".fw-datepicker-here").datepicker(), e(".fw-btn-submit").click(ee), se(), j(e(".fw-wizard"))

        }

        function oe() {
            e(document).ready(function(e) {
                de();
            })
        }
        var ce = {},
            le = ["Please fill all the required fields!", "This field is required", "Some required Fields are empty<br>Please check the highlighted fields."];
        oe()
    }),
    function() {
        "use strict"
    }();